import{r as c,j as e}from"./index-CC6lb1Or.js";function v({countries:p}){const[m,j]=c.useState(""),[a,g]=c.useState({}),[N,b]=c.useState(!1),[t,r]=c.useState(1),[l,f]=c.useState(5),d=p.filter(s=>s.name.toLowerCase().includes(m.toLowerCase())),n=Math.ceil(d.length/l),o=(t-1)*l,i=d.slice(o,o+l),x=Object.entries(a).filter(([,s])=>s).map(([s])=>s),y=s=>{const h=s.target.checked,u={...a};i.forEach(w=>{u[w.code]=h}),g(u)};return e.jsxs("div",{className:"bg-white shadow rounded p-4 relative",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Country Selector"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search countries!...",className:"border border-gray-300 rounded px-3 py-2 w-full",value:m,onChange:s=>{j(s.target.value),r(1)}}),e.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:()=>b(!0),children:["Show Selected Codes",e.jsx("span",{className:"ml-2",children:x.length})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Records per page:"}),e.jsx("select",{className:"border border-gray-300 rounded px-2 py-1",value:l,onChange:s=>{f(parseInt(s.target.value)),r(1)},children:[5,10,20,30].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",o+1,"–",Math.min(o+l,d.length)," of ",d.length]})]}),e.jsxs("table",{className:"w-full table-auto border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"p-2 text-left",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4",onChange:y,checked:i.length>0&&i.every(s=>a[s.code])}),"   Select All"]}),e.jsx("th",{className:"p-2 text-left",children:"Country Name"}),e.jsx("th",{className:"p-2 text-left",children:"Code"})]})}),e.jsx("tbody",{children:i.map(s=>e.jsxs("tr",{className:`transition ${a[s.code]?"bg-blue-100":"hover:bg-gray-100"}`,children:[e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:!!a[s.code],onChange:()=>g(h=>({...h,[s.code]:!h[s.code]}))})}),e.jsx("td",{className:"p-2",children:s.name}),e.jsx("td",{className:"p-2",children:s.code})]},s.code))})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("button",{onClick:()=>r(s=>Math.max(s-1,1)),disabled:t===1,className:`px-4 py-2 rounded ${t===1?"bg-gray-300 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:"Previous"}),e.jsxs("span",{className:"text-gray-700",children:["Page ",t," of ",n]}),e.jsx("button",{onClick:()=>r(s=>Math.min(s+1,n)),disabled:t===n,className:`px-4 py-2 rounded ${t===n?"bg-gray-300 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:"Next"})]}),N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 animate-fadeIn",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Selected Codes"}),e.jsx("p",{className:"text-gray-700 mb-4",children:x.length>0?x.join(", "):"No countries selected."}),e.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",onClick:()=>b(!1),children:"Close"})]})})]})}export{v as default};
